/*
 * bootstrap-strength.js
 * Original author: @rivalex
 * Further changes, comments: @rivalex
 * Licensed under the MIT license
 */
!function(e,t,a){"use strict";t.bootstrapStrength=function(e,a){this.element=a,this.$elem=t(this.element),this.options=t.extend({},t.bootstrapStrength.defaults,e);var r=this;r._init()},t.bootstrapStrength.defaults={stripped:!0,active:!0,slimBar:!1,minLenght:8,upperCase:1,upperReg:"[A-Z]",lowerCase:1,lowerReg:"[a-z]",numbers:1,numberReg:"[0-9]",specialchars:1,specialReg:"[!,%,&,@,#,$,^,*,?,_,~]",topMargin:"5px;",meterClasses:{weak:"progress-bar-danger",medium:"progress-bar-warning",good:"progress-bar-success"}},t.bootstrapStrength.prototype={_init:function(){function e(e,t){return(t/e*100).toFixed(0)}function a(e,t,a){var r,s;return r="(.*"+t+".*){"+a+",}",s=new RegExp(r,"g"),e.match(s)?1:0}function r(t,r){c=t.length>=p.minLenght?1:0,h=p.upperCase>0?a(t,p.upperReg,p.upperCase):1,m=p.lowerCase>0?a(t,p.lowerReg,p.lowerCase):1,d=p.numbers>0?a(t,p.numberReg,p.numbers):1,b=p.specialchars>0?a(t,p.specialReg,p.specialchars):1;var i=e(5,c+h+m+d+b);s(i,r)}function s(e,a){var r,s=t('div[data-meter="'+a+'"]');switch(parseInt(e)){case 0:r=u.weak;break;case 20:r=u.weak;break;case 40:r=u.weak;break;case 60:r=u.medium;break;case 80:r=u.medium;break;case 100:r=u.good}s.removeClass(u.weak+" "+u.medium+" "+u.good).attr("aria-valuenow",e).width(e+"%").addClass(r)}var i,n,o=this,p=o.options,u=p.meterClasses,g=o.$elem,l=g.attr("id"),c=0,h=0,m=0,d=0,b=0;i=t("<div/>",{"class":"progress",style:"margin-top:"+p.topMargin+(p.slimBar?"height: 7px;border-radius: 7px":"")}),n=t("<div/>",{"class":"progress-bar"+(p.stripped?" progress-bar-striped":"")+(p.active?" active":""),role:"progressbar","data-meter":l,"aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100}).appendTo(i),this.$elem.parent().hasClass("input-group")?this.$elem.parent().after(i):this.$elem.after(i),this.$elem.bind("keyup keydown",function(e){var a=t("#"+l).val();r(a,l)})}},t.fn.bootstrapStrength=function(e){return t.data(this,"bootstrapStrength")?void 0:t(this).each(function(){t.data(this,"bootstrapStrength",new t.bootstrapStrength(e,this))})}}(window,jQuery);
